# ğŸ¶ éŸ³æ± (Yin-Xi) Discord æ©Ÿå™¨äºº ğŸ¤–
<p align="center">
  <img src="https://github.com/NotKeKe/Discord-Bot-YinXi/blob/main/assests/botself.png?raw=true" width = "300" height = "300"/>
</p>

( cogview-3-flash å¹«ä»–ç•«äº† 6 æ ¹æ‰‹æŒ‡ww )

**ğŸ”— Bot é‚€è«‹é€£çµ:**
- [URL](https://discord.com/oauth2/authorize?client_id=990798785489825813)

é€™æ˜¯ä¸€å€‹ Discord æ©Ÿå™¨äººå°ˆæ¡ˆï¼ŒåŒ…å«å¤šç¨®åŠŸèƒ½ï¼Œä¾‹å¦‚éŸ³æ¨‚æ’­æ”¾ã€AI èŠå¤©ã€å°éŠæˆ²ã€ä»¥åŠèˆ‡ Hypixel SkyBlock ç›¸é—œçš„åŠŸèƒ½ã€‚ <br><br>
å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ Deepwiki.md é€£çµä¾†ç€è¦½æ­¤å°ˆæ¡ˆä»‹ç´¹ï¼Œæˆ–è€…è©³é–±æ¥ä¸‹ä¾†çš„èªªæ˜ ä¾†ä½¿ç”¨æ­¤å°ˆæ¡ˆã€‚
- [Deepwiki.md](https://github.com/NotKeKe/Discord-Bot-YinXi/blob/main/assests/Discord-Bot-YinXi_wiki_20250613.md)

## é–±å‰æé†’
*   ä¸å»ºè­°è‡ªå·± clone æ­¤å°ˆæ¡ˆä¸‹ä¾†ç”¨ï¼Œå› ç‚ºä»–å¤§æ¦‚ç‡æ˜¯å•Ÿå‹•ä¸äº†çš„ï¼Œæˆ–è¨±æ‹¿ä¾†å­¸ç¿’æ¯”è¼ƒå¥½w<br>
    ç•¢ç«Ÿä»–åŠŸèƒ½æŒºé›œï¼Œæœ‰ aiohttp, chromadb, openai, MongoDB ä¹‹é¡çš„

## âœ¨ ç‰¹è‰²
*   **éŸ³æ¨‚æ’­æ”¾**: æ”¯æ´æ’­æ”¾ YouTube å½±ç‰‡éŸ³æ¨‚ã€‚
*   **AI èŠå¤©**: é€é AI é€²è¡Œå°è©±ã€‚
*   **å°éŠæˆ²**: ä¾‹å¦‚ç„¡é™åœˆåœˆå‰å‰éŠæˆ²ã€‚
*   **SkyBlock ç›¸é—œ**: æä¾› SkyBlock éŠæˆ²è³‡è¨Šå’Œè¿½è¹¤åŠŸèƒ½ã€‚
*   **ç¿»è­¯**: æ”¯æ´ AI å¤šèªè¨€ç¿»è­¯ã€‚
*   **æé†’**: æ™‚é–“åˆ°çš„æ™‚å€™é€šçŸ¥ä½ è¨­å®šçš„æé†’äº‹é …ã€‚
*   **é€šçŸ¥**: YouTube é€šçŸ¥åŠŸèƒ½ã€‚
*   **å¤šèªè¨€æ”¯æŒ**: ç›®å‰æ”¯æ´ä½¿ç”¨ `zh-TW`, `zh-CN`, `en-US`ã€‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•
- `/help` å¿«é€Ÿå–å¾—è©² Bot çš„æ¦‚ç•¥åŠŸèƒ½ã€‚

### ğŸ’¡ å¸¸ç”¨æŒ‡ä»¤ç¯„ä¾‹
ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æŒ‡ä»¤ç¯„ä¾‹ï¼Œè®“æ‚¨å¿«é€Ÿä¸Šæ‰‹ï¼š
*   `/play [æ­Œæ›²åç¨±/URL]`ï¼šæ’­æ”¾ YouTube ä¸Šçš„éŸ³æ¨‚ã€‚
*   `/chat [æ‚¨çš„è¨Šæ¯]`ï¼šèˆ‡ AI é€²è¡Œå°è©±ã€‚
    > (20250806 å°‡æ•´é«”æ¶æ§‹ä¿®æ”¹ï¼Œæ­£æ˜¯æ”¯æ´ç•°æ­¥)
*   `/remind [æ™‚é–“] [æé†’äº‹é …]`ï¼šè®“ Bot æé†’ä½ è¦åšä»€éº¼äº‹æƒ…ã€‚
    > (20250809 è½‰ç‚ºä½¿ç”¨ MongoDB å­˜å„²)
*   `/ç¿»è­¯ [èªè¨€] [æ–‡å­—]`ï¼šç”¨ AI å°‡æ–‡å­—ç¿»è­¯æˆæŒ‡å®šèªè¨€ã€‚
*   `/minecraft_server_status`ï¼šç²å¾—æŸå€‹ Minecraft ä¼ºæœå™¨çš„ç‹€æ…‹ã€‚
*   `/news`ï¼šç²å–æœ€æ–°æ–°èã€‚
*   `/nasa`ï¼šç²å– NASA æ¯æ—¥åœ–ç‰‡ã€‚
*   `/gif [é—œéµå­—]`ï¼šæœå°‹ä¸¦ç™¼é€ GIFã€‚
*   `/æ­Œè©æœå°‹ [æ­Œæ›²åç¨±]`ï¼šæœå°‹æ­Œæ›²æ­Œè©ã€‚

## æˆå°±
*   **[2025/07/08]** å®Œæˆ **i18n**ï¼Œprefix + slash command i18n
    *   å¯åœ¨ [core/locales](core/locales) æŸ¥çœ‹èˆ‡ Gemini 2.5 pro çš„ `å°è©±ç´€éŒ„` èˆ‡ `æç¤ºè©`
*   **[2025/08/06]** å°‡æ­¤å°ˆæ¡ˆæ¥å…¥æœ¬åœ° MongoDBï¼Œä¸¦å°‡ `chat` ç›¸é—œå‘½ä»¤é‡å¯«ï¼Œä»¥æ”¯æ´ç•°æ­¥ function èª¿ç”¨
    > å¦‚æœä¹‹å¾Œæœ‰æ©Ÿæœƒèƒ½å°‡æ•´å€‹ Project æ”¹ç‚ºä½¿ç”¨ MongoDBçš„è©±ï¼Œæ‡‰è©²å°±å¯ä»¥ç›´æ¥ç”¨ `git clone` çš„æ–¹å¼æ‹¿ä¸‹ä¾†ç”¨

## âš¡ Quick Start
**â—å»ºè­°ä½¿ç”¨ Python 3.13+ ä»¥ä¸Šçš„ç’°å¢ƒâ—**

**è«‹å…ˆè¨­å®š `.env` æª”æ¡ˆ**:
* è«‹åƒè€ƒä»¥ä¸‹ã€Œé…ç½®è¨­å®š - ç’°å¢ƒè®Šæ•¸ã€éƒ¨åˆ†ï¼Œå»ºç«‹ä¸¦å¡«å¯«æ‚¨çš„ `.env` æª”æ¡ˆã€‚ <br>
**ï¼å‹™å¿…åœ¨ .env å…§å¡«ä¸Š `DISCORD_TOKEN`ï¼**<br><br>

**é¸é …ä¸€** ä½¿ç”¨ **[Docker](https://www.docker.com/)** (ä½¿ç”¨ docker æ‰æœƒåŒ…æ‹¬ fastapi èˆ‡ MongoDB çš„éƒ¨åˆ†):
```bash
# å°‡å°ˆæ¡ˆå…‹éš†è‡³æœ¬åœ°ç›®éŒ„
git clone https://github.com/NotKeKe/Discord-Bot-YinXi.git

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd Discord-Bot-YinXi

# ä½¿ç”¨ docker compose åŸ·è¡Œ
docker-compose up -d
```

**é¸é …äºŒ** ä½¿ç”¨ **[uv](https://github.com/astral-sh/uv)**:
1. **èˆ‡å°ˆæ¡ˆç’°å¢ƒåŒæ­¥**:
    ```bash
    uv sync
    ```
2. **å•Ÿå‹•æ©Ÿå™¨äºº**:
    ```bash
    uv run newbot2.py
    ```

**é¸é …ä¸‰** ä½¿ç”¨ **[pm2](https://pm2.keymetrics.io/)**:
1. **ç¢ºä¿ä½ çš„è¨­å‚™ç’°å¢ƒå…§æœ‰ `node.js` èˆ‡ `npm`**
2. **å®‰è£ pm2**:
    ```bash
    npm install -g pm2
    ```
3. **å®‰è£ä¾è³´èˆ‡å•Ÿå‹•Bot**:
    ```bash
    pip install -r requirements.txt
    ./start_run_in_docker_pm2.sh
    ```

    - å¦‚æœ**ç„¡æ³•ä½¿ç”¨**çš„è©± å»ºè­°å…ˆä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ 
        ```bash
        cd ENTER_YINXI_BOT_PATH
        chmod +x start_run_in_docker_pm2.sh
        ```

**é¸é …å››** ä½¿ç”¨ **[newbot2.bat](newbot2.bat)** (åƒ… windows)
1. **å®‰è£ä¾è³´**:
    ```bash
    pip install -r requirements.txt
    ```
2. **å•Ÿå‹•æ©Ÿå™¨äºº**:
    ```bash
    newbot2.bat
    ```

## âš™ï¸ é…ç½®è¨­å®š

### ğŸ”‘ ç’°å¢ƒè®Šæ•¸ (`.env`)

ç‚ºäº†è®“å°ˆæ¡ˆæ­£å¸¸é‹è¡Œï¼Œæ‚¨éœ€è¦å»ºç«‹ä¸€å€‹ `.env` æª”æ¡ˆï¼Œä¸¦åœ¨å…¶ä¸­è¨­å®šå¿…è¦çš„ç’°å¢ƒè®Šæ•¸ã€‚

`.env` æª”æ¡ˆçš„ç¯„ä¾‹å¦‚ä¸‹ï¼š

```
# å…¶ä»–å¯èƒ½éœ€è¦çš„ç’°å¢ƒè®Šæ•¸ï¼Œä¾‹å¦‚ï¼š
DISCORD_TOKEN = YOUR-DISCORD-BOT-TOKEN
# APPLICATION_ID = ...
HYPIXEL_API_KEY = ... # å› ç‚ºä¸€äº›åŸå›  ä»–ç¾åœ¨æš«æ™‚ç”¨ä¸äº†
tmp_hypixel_api_key = YOUR-HYPIXEL-API-KEY

# ä»¥ä¸‹ç‚º llm apiï¼Œå¯ä»¥æ ¹æ“šéœ€è¦é¸æ“‡ä½¿ç”¨
zhipuAI_KEY = ...
huggingFace_KEY = ...
openrouter_KEY = ...
gemini_KEY = ...
mistral_KEY = ...
cerebras_KEY = ...

news_api_KEY = ... # `/æ–°è` çš„ apiKEY
nasa_api_KEY = ... # `/nasaæ¯æ—¥åœ–ç‰‡` çš„ apiKEY
unsplash_api_access_KEY = ... # `/çœ‹åœ–` çš„ apiKEY
embed_default_link = ... # æœƒé¡¯ç¤ºåœ¨ embed çš„ author url
KeJC_ID = ... # åŸºæœ¬ä¸Šé€™æ˜¯ç‚ºäº†ä¸€äº›åªæœ‰ owner æ‰æœƒç”¨çš„æŒ‡ä»¤æ‰€è¨­è¨ˆçš„ï¼Œä¾‹å¦‚ `/reload`
# YouTube_PoToken = ...
# YouTube_visitorData = ...
yinxi_base_url = https://yinxi.keketw.dpdns.org
GIPHY_KEY = ... # `/gif` çš„ apiKEY
GENIUS_ACCESS_TOKEN = ... # `/æ­Œè©æœå°‹` çš„ apiKEY
```

è«‹æ ¹æ“šæ‚¨çš„å¯¦éš›éœ€æ±‚å¡«å¯«é€™äº›è®Šæ•¸ã€‚

### ğŸ“ é‡è¦çš„ JSON æª”æ¡ˆ

ä»¥ä¸‹æ˜¯ä¸€äº›åœ¨ `.gitignore` ä¸­è¢«å¿½ç•¥çš„ JSON æª”æ¡ˆï¼Œå®ƒå€‘å¯èƒ½åŒ…å«å°ˆæ¡ˆé‹è¡Œæ‰€éœ€çš„é…ç½®æˆ–æ•¸æ“šã€‚é€™äº›æª”æ¡ˆé€šå¸¸éœ€è¦æ‚¨æ‰‹å‹•å»ºç«‹æˆ–ç”±å°ˆæ¡ˆé‹è¡Œæ™‚è‡ªå‹•ç”Ÿæˆã€‚å¦‚æœå°ˆæ¡ˆç„¡æ³•æ­£å¸¸å•Ÿå‹•ï¼Œè«‹æª¢æŸ¥é€™äº›æª”æ¡ˆæ˜¯å¦å­˜åœ¨ä¸¦åŒ…å«æ­£ç¢ºçš„å…§å®¹ã€‚

*   `setting.json`: é€™å€‹æª”æ¡ˆå¯èƒ½åŒ…å«å°ˆæ¡ˆçš„é€šç”¨è¨­å®šæˆ–é…ç½®ã€‚
*   `cmds/skyblock_commands_foldor/test.json`: é€™å€‹æª”æ¡ˆå¯èƒ½ç”¨æ–¼ SkyBlock ç›¸é—œåŠŸèƒ½çš„æ¸¬è©¦æ•¸æ“šæˆ–é…ç½®ã€‚
*   `cmds/data.json/` ç›®éŒ„ä¸‹çš„æª”æ¡ˆï¼š
    *   `ç°½åˆ°.json`
    *   `admins.json`
    *   `chat_channel_modelSelect.json`
    *   `chat_history_forchannel.json`
    *   `chat_history.json`
    *   `chat_human_summary.json`
    *   `chat_human.json`
    *   `chat_personality.json`
    *   `chat_style_train.json`
    *   `counting.json`
    *   `country.json`
    *   `events_record.json`
    *   `giveaway.json`
    *   `guild_join.json`
    *   `keep.json`
    *   `levels.json`
    *   `music_personal_list.json`
    *   `music.json`
    *   `on_presence_update.json`
    *   `skyblock_auction_item_tracker.json`
    *   `skyblock_bazaar_item_tracker.json`
    *   `skyblock_events_channels.json`
    *   `weather_messages.json`
    *   `world_channels.json`
    *   `youtube_update_channels.json`

## ğŸ¤ è²¢ç»æŒ‡å—
æˆ‘å€‘æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ï¼å¦‚æœæ‚¨æƒ³ç‚ºéŸ³æ±æ©Ÿå™¨äººåšå‡ºè²¢ç»ï¼Œè«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š
1. æƒ³ä¸åˆ°å§ é€™è£¡ä¹Ÿæ˜¯ç©ºçš„w

## â“ å¸¸è¦‹å•é¡Œ (FAQ)
*   ä¸è¦å•æˆ‘æ€éº¼å•Ÿå‹•é€™å€‹å°ˆæ¡ˆ å› ç‚ºæˆ‘æœ€ä¸€é–‹å§‹æ²’æœ‰è¨­è¨ˆè¦è®“ä»–é–‹æºè®“åˆ¥äººç”¨ï¼Œæ‰€ä»¥é–‹ä¸èµ·ä¾†ä¸è¦æ‰¾æˆ‘w

## ğŸ“ è¯çµ¡èˆ‡æ”¯æ´
å¦‚æœæ‚¨æœ‰ä»»ä½•å•é¡Œã€å»ºè­°æˆ–éœ€è¦æ”¯æ´ï¼Œå¯ä»¥é€éä»¥ä¸‹æ–¹å¼è¯çµ¡æˆ‘å€‘ï¼š
*   **Discord ä¼ºæœå™¨**: [Discord Server](https://discord.gg/MhtxWJu)
*   è‡³ GitHub çš„ [Issues](https://github.com/NotKeKe/Discord-Bot-YinXi/issues/new) è¨»æ˜æ‚¨çš„å•é¡Œæˆ–å»ºè­°ã€‚
*   åœ¨ Discord ä¼ºæœå™¨ä¸­å° éŸ³æ± ä½¿ç”¨ `/éŒ¯èª¤å›å ±` ä¾†å›å ±ä»»ä½•å•é¡Œã€‚

## ğŸ“„ æˆæ¬Š
- [LICENSE-MIT](LICENSE)

## TODO & DONE
[TODO](https://github.com/NotKeKe/Discord-Bot-YinXi/blob/main/assests/TODO.md)
[DONE](https://github.com/NotKeKe/Discord-Bot-YinXi/blob/main/assests/DONE.md)